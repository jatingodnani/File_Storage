[{"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\index.js":"1","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\App.js":"2","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Modal.js":"3","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Display.js":"4","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Navbar.js":"5","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\FileUpload.js":"6","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\tezos.js":"7","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\tzkt.js":"8","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\wallet.js":"9","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\operation.js":"10"},{"size":269,"mtime":1680072875560,"results":"11","hashOfConfig":"12"},{"size":1867,"mtime":1680072875536,"results":"13","hashOfConfig":"12"},{"size":2071,"mtime":1680089236882,"results":"14","hashOfConfig":"12"},{"size":1658,"mtime":1680090587335,"results":"15","hashOfConfig":"12"},{"size":1190,"mtime":1680090686701,"results":"16","hashOfConfig":"12"},{"size":2260,"mtime":1680072875552,"results":"17","hashOfConfig":"12"},{"size":284,"mtime":1680072875568,"results":"18","hashOfConfig":"12"},{"size":310,"mtime":1680072875576,"results":"19","hashOfConfig":"12"},{"size":834,"mtime":1680073879378,"results":"20","hashOfConfig":"12"},{"size":766,"mtime":1680072875568,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1732rky",{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\index.js",[],["46","47"],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\App.js",["48"],"import { useState,useEffect } from \"react\";\r\n\r\n// Components\r\nimport Navbar from \"./components/Navbar\";\r\nimport FileUpload from \"./components/FileUpload\"\r\nimport { getAccount } from \"./utils/wallet\";\r\nimport {tezos} from \"./utils/tezos\"\r\nimport Display from \"./components/Display\";\r\nimport Modal from \"./components/Modal\";\r\n\r\n// const [account, setAccount] = useState(\"\");\r\n\r\nimport { fetchStorage } from \"./utils/tzkt\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n\r\n  const [contract, setContract] = useState(null);\r\n  const [account, setAccount] = useState(\"\");\r\n\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    (async () => {\r\n\r\n\r\n      // TODO 5.b - Get the active account\r\n      const account = await getAccount();\r\n      setAccount(account);\r\n      const contract = await tezos.wallet.at(\"KT1BwoKYL4AU6h7X8i3VPndfGjqLVPvQfsed\");\r\n      setContract(contract);\r\n      \r\n\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n\r\n\r\n    <div className=\"h-300\">\r\n      <Navbar />\r\n      <div \r\n      style={{\r\n        paddingTop: '75px'\r\n      }}\r\n      ></div>\r\n      {!modalOpen && (\r\n        <button className=\"share\" onClick={() => setModalOpen(true)}>\r\n          Share\r\n        </button>\r\n      )}\r\n      {modalOpen && (\r\n        <Modal setModalOpen={setModalOpen} contract={contract}></Modal>\r\n      )}\r\n      \r\n      \r\n\r\n      <div className=\"App\">\r\n        <h1 style={{ color: \"white\" }}>File Storage</h1>\r\n        <div class=\"bg\"></div>\r\n        <div class=\"bg bg2\"></div>\r\n        <div class=\"bg bg3\"></div>\r\n\r\n        <p style={{ color: \"white\" }}>\r\n          Account : {account ? account : \"Not connected\"}\r\n        </p>\r\n        <FileUpload account={account} contract={contract}\r\n        ></FileUpload>\r\n        <Display account={account} contract={contract} ></Display>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Modal.js",["49"],"import { useEffect } from \"react\";\r\nimport \"./Modal.css\";\r\nimport { VscChromeClose } from \"react-icons/vsc\";\r\nconst Modal = ({ setModalOpen, contract }) => {\r\n  const sharing = async () => {\r\n    console.log(\"hii\")\r\n    const address = document.querySelector(\".address\").value;\r\n    await contract.allow(address);\r\n    setModalOpen(false);\r\n \r\n  };\r\n  useEffect(() => {\r\n    const accessList = async () => {\r\n      const addressList = await contract.shareAccess();\r\n      let select = document.querySelector(\"#selectNumber\");\r\n      const options = addressList;\r\n\r\n      for (let i = 0; i < options.length; i++) {\r\n        let opt = options[i];\r\n        let e1 = document.createElement(\"option\");\r\n        e1.textContent = opt;\r\n        e1.value = opt;\r\n        select.appendChild(e1);\r\n      }\r\n    };\r\n    contract && accessList();\r\n  }, [contract]);\r\n  return (\r\n    <>\r\n      <div className=\"modalBackground\">\r\n       <div className=\"modalContainer\">\r\n\r\n         <div className=\"img\" >\r\n      <VscChromeClose style={{marginLeft:\"90%\",fontSize:\"25px\"}} />\r\n          <img   src=\"https://th.bing.com/th?id=OIP.C9Pnj8rM6NZiLaGCCYRmiwHaFi&w=289&h=216&c=8&rs=1&qlt=90&o=6&dpr=1.3&pid=3.1&rm=2\" />\r\n         </div>\r\n          <form className=\"myForm\">\r\n          <div className=\"body\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"address\"\r\n              placeholder=\"Enter Email Address\"\r\n\r\n            ></input>\r\n          </div>\r\n        \r\n         \r\n         <div className=\"footer\">\r\n       {  /*  <button\r\n              onClick={() => {\r\n                setModalOpen(false);\r\n              }}\r\n              id=\"cancelBtn\"\r\n            >\r\n              Cancel\r\n            </button>*/}\r\n            <button  onClick={() => sharing()}>Share</button>\r\n            </div>\r\n          <select id=\"selectNumber\">\r\n              <option className=\"option\">People With Access</option>\r\n              \r\n            </select>\r\n           \r\n         \r\n            </form>\r\n     \r\n       </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Modal;","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Display.js",["50"],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\Navbar.js",[],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\components\\FileUpload.js",["51"],"import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./FileUpload.css\";\r\nimport { addOperation } from \"../utils/operation\";\r\n\r\nconst FileUpload = ({account,contract}) => {\r\n  const [file, setFile] = useState(null);\r\n  const [fileName, setFileName] = useState(\"No image selected\");\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (file) {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n\r\n        const resFile = await axios({\r\n          method: \"post\",\r\n          url: \"https://api.pinata.cloud/pinning/pinFileToIPFS\",\r\n          data: formData,\r\n          headers: {\r\n            pinata_api_key: `a9c60da020ca93360f7b`,\r\n            pinata_secret_api_key: `cdacb7ae20117048e0610cea7ca0d7c5d9a86a1f242176b15c3742c9c68f1488`,\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        });\r\n        const ImgHash = `ipfs://${resFile.data.IpfsHash}`;\r\n        await contract.method.add(ImgHash);\r\n    //     //const signer = contract.connect(provider.getSigner());\r\n        // tezos.contract.add(account, ImgHash);\r\n      } catch (e) {\r\n        alert(\"Unable to upload image to Pinata\");\r\n      }\r\n    }\r\n    alert(\"Successfully Image Uploaded\");\r\n    setFileName(\"No image selected\");\r\n    setFile(null);\r\n  };\r\n  const retrieveFile = (e) => {\r\n    const data = e.target.files[0]; //files array of files object\r\n    console.log(data);\r\n    const reader = new FileReader();\r\n    reader.readAsArrayBuffer(data);\r\n    reader.onloadend = () => {\r\n      setFile(e.target.files[0]);\r\n    };\r\n    setFileName(e.target.files[0].name);\r\n    e.preventDefault();\r\n  };\r\n  return (\r\n    <div className=\"top\">\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <label htmlFor=\"file-upload\" className=\"choose\">\r\n          Choose Image\r\n        </label>\r\n        <input\r\n          disabled={!account}\r\n          type=\"file\"\r\n          id=\"file-upload\"\r\n          name=\"data\"\r\n          onChange={retrieveFile}\r\n        />\r\n        <span className=\"textArea\">Image:{fileName}</span>\r\n        <button type=\"submit\" className=\"upload\" disabled = {!file}>\r\n          Upload File\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default FileUpload;","C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\tezos.js",[],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\tzkt.js",[],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\wallet.js",[],"C:\\Users\\jatin\\OneDrive\\Documents\\opensource\\File_Storage\\src\\utils\\operation.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":13,"column":10,"nodeType":"58","messageId":"59","endLine":13,"endColumn":22},{"ruleId":"60","severity":1,"message":"61","line":35,"column":11,"nodeType":"62","endLine":35,"endColumn":136},{"ruleId":"63","severity":1,"message":"64","line":26,"column":11,"nodeType":"62","messageId":"65","endLine":26,"endColumn":50,"fix":"66"},{"ruleId":"56","severity":1,"message":"67","line":4,"column":10,"nodeType":"58","messageId":"59","endLine":4,"endColumn":22},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'fetchStorage' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","noTargetBlankWithoutNoreferrer",{"range":"70","text":"71"},"'addOperation' is defined but never used.","no-global-assign","no-unsafe-negation",[848,848]," rel=\"noreferrer\""]