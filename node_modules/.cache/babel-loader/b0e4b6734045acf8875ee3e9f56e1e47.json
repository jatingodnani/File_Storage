{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable no-console */\nimport { getDebugEnabled } from '../debug';\n/**\r\n * The logger that is used internally\r\n */\nexport class InternalLogger {\n  constructor() {}\n  debug(name, method) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    this._log('debug', name, method, args);\n  }\n  log(name, method) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n    this._log('log', name, method, args);\n  }\n  warn(name, method) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      args[_key3 - 2] = arguments[_key3];\n    }\n    this._log('warn', name, method, args);\n  }\n  error(name, method) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n      args[_key4 - 2] = arguments[_key4];\n    }\n    this._log('error', name, method, args);\n  }\n  _log(type, name, method) {\n    let args = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n    if (!getDebugEnabled()) {\n      return;\n    }\n    let groupText = `[BEACON] ${new Date().toISOString()} [${name}](${method})`;\n    let data = args;\n    if (args[0] && typeof args[0] === 'string') {\n      groupText += ` ${args[0]}`;\n      data = args.slice(1);\n    }\n    switch (type) {\n      case 'error':\n        console.group(groupText);\n        console.error(...data);\n        break;\n      case 'warn':\n        console.group(groupText);\n        console.warn(...data);\n        break;\n      case 'debug':\n        console.groupCollapsed(groupText);\n        console.debug(...data);\n        break;\n      default:\n        console.group(groupText);\n        console.log(...data);\n    }\n    console.groupEnd();\n    // echo.group(echo.asWarning(`[BEACON] ${message}`))\n    // echo.log(echo.asWarning(`[${this.name}]`), echo.asAlert(`(${method})`), ...args)\n    // echo.groupEnd()\n  }\n}\n\nexport class Logger {\n  constructor(service) {\n    this.name = service;\n  }\n  debug(method) {\n    for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      args[_key5 - 1] = arguments[_key5];\n    }\n    logger.debug(this.name, method, args);\n  }\n  log(method) {\n    for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n      args[_key6 - 1] = arguments[_key6];\n    }\n    logger.log(this.name, method, args);\n  }\n  warn(method) {\n    for (var _len7 = arguments.length, args = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      args[_key7 - 1] = arguments[_key7];\n    }\n    logger.warn(this.name, method, args);\n  }\n  error(method) {\n    for (var _len8 = arguments.length, args = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {\n      args[_key8 - 1] = arguments[_key8];\n    }\n    logger.error(this.name, method, args);\n  }\n}\nconst loggerWrapper = new Logger('');\nlet logger = new InternalLogger();\nexport const setLogger = newLogger => {\n  logger = newLogger;\n};\nexport const getLogger = () => loggerWrapper;","map":{"version":3,"names":["getDebugEnabled","InternalLogger","constructor","debug","name","method","_len","arguments","length","args","Array","_key","_log","log","_len2","_key2","warn","_len3","_key3","error","_len4","_key4","type","undefined","groupText","Date","toISOString","data","slice","console","group","groupCollapsed","groupEnd","Logger","service","_len5","_key5","logger","_len6","_key6","_len7","_key7","_len8","_key8","loggerWrapper","setLogger","newLogger","getLogger"],"sources":["../../../src/utils/Logger.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}