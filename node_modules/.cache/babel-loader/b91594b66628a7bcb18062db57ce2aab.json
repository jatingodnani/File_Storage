{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { Serializer, Logger, windowRef } from '@airgap/beacon-core';\nimport { generateGUID } from '@airgap/beacon-utils';\nimport { isAndroid, isIOS } from '../../utils/platform';\nimport { getQrData } from '../../utils/qr';\nimport { getTzip10Link } from '../../utils/get-tzip10-link';\nimport { closeAlerts } from './Alert';\nimport { Pairing, WalletType } from './Pairing';\nimport { createSanitizedElement, createSVGElement, createSVGPathElement, removeAllChildren } from '../../utils/html-elements';\nconst logger = new Logger('Alert');\nconst serializer = new Serializer();\nexport const preparePairingAlert = (id, shadowRoot, pairingPayload) => __awaiter(void 0, void 0, void 0, function* () {\n  const getInfo = () => __awaiter(void 0, void 0, void 0, function* () {\n    return Pairing.getPairingInfo(pairingPayload, (_walletType, _wallet, keepOpen) => __awaiter(void 0, void 0, void 0, function* () {\n      if (keepOpen) {\n        return;\n      }\n      yield closeAlerts();\n    }), () => __awaiter(void 0, void 0, void 0, function* () {\n      switchPlatform();\n    }));\n  });\n  const info = yield getInfo();\n  const container = shadowRoot.getElementById(`pairing-container`);\n  if (!container) {\n    throw new Error('container not found');\n  }\n  const buttonListWrapper = document.createElement('span');\n  container.appendChild(buttonListWrapper);\n  info.buttons.forEach(button => __awaiter(void 0, void 0, void 0, function* () {\n    const randomId = yield generateGUID();\n    const titleEl = createSanitizedElement('div', ['beacon-list__title'], [], button.title);\n    const buttonEl = createSanitizedElement('button', ['beacon-modal__button', 'connect__btn'], [], button.text);\n    const linkEl = document.createElement('a');\n    linkEl.id = `button_${randomId}`;\n    linkEl.appendChild(titleEl);\n    linkEl.appendChild(buttonEl);\n    buttonListWrapper.appendChild(linkEl);\n    const shadowButtonEl = shadowRoot.getElementById(linkEl.id);\n    if (shadowButtonEl) {\n      shadowButtonEl.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\n        button.clickHandler();\n      }));\n    }\n  }));\n  const showWallet = (listEl, type, wallet) => {\n    const altTag = `Open in ${wallet.name}`;\n    const walletKey = wallet.key;\n    const logoEl = wallet.logo ? createSanitizedElement('div', [], [], [createSanitizedElement('img', ['beacon-selection__img'], [['src', wallet.logo]], '')]) : createSVGElement(['beacon-selection__img', 'svg-inline--fa', 'fa-wallet', 'fa-w-16'], [['aria-hidden', 'true'], ['focusable', 'false'], ['data-prefix', 'fas'], ['data-icon', 'wallet'], ['role', 'img'], ['xmlns', 'http://www.w3.org/2000/svg'], ['viewBox', '0 0 512 512'], ['style', 'enable-background:new 0 0 512 512;'], ['xml:space', 'preserve']], [createSVGPathElement([['d', 'M376.2,181H152.9c-5.2,0-9.4-4.2-9.4-9.4s4.2-9.4,9.4-9.4h225c5.2,0,9.4-4.2,9.4-9.4c0-15.5-12.6-28.1-28.1-28.1H143.5c-20.7,0-37.5,16.8-37.5,37.5v187.5c0,20.7,16.8,37.5,37.5,37.5h232.7c16.4,0,29.8-12.6,29.8-28.1v-150C406,193.6,392.7,181,376.2,181z M349.8,302.9c-10.4,0-18.8-8.4-18.8-18.8s8.4-18.8,18.8-18.8s18.8,8.4,18.8,18.8S360.1,302.9,349.8,302.9z']])]);\n    const nameEl = createSanitizedElement('div', ['beacon-selection__name'], [], [createSanitizedElement('span', [], [], wallet.name), wallet.enabled ? undefined : createSanitizedElement('p', [], [], 'Not installed')]);\n    const linkEl = createSanitizedElement('a', ['beacon-selection__list', wallet.enabled ? '' : 'disabled'], [['tabindex', '0'], ['id', `wallet_${walletKey}`], ['alt', altTag], ['target', '_blank']], [nameEl, logoEl]);\n    const el = document.createElement('span');\n    el.appendChild(linkEl);\n    listEl.appendChild(el);\n    const walletEl = shadowRoot.getElementById(`wallet_${walletKey}`);\n    const completeHandler = event => __awaiter(void 0, void 0, void 0, function* () {\n      if (event && event.key !== 'Enter') {\n        return;\n      }\n      wallet.clickHandler();\n      const modalEl = shadowRoot.getElementById('beacon-modal__content');\n      if (modalEl && type !== WalletType.EXTENSION && type !== WalletType.IOS) {\n        removeAllChildren(modalEl);\n        modalEl.appendChild(createSanitizedElement('p', ['beacon-alert__title'], [], 'Establishing Connection..'));\n        modalEl.appendChild(createSanitizedElement('div', ['progress-line'], [['id', 'beacon-toast-loader']], ''));\n        modalEl.appendChild(createSanitizedElement('div', ['beacon--selected__container'], [], [...(wallet.logo ? [createSanitizedElement('img', ['beacon-selection__img'], [['src', wallet.logo]], ''), createSanitizedElement('img', ['beacon--selection__name__lg'], [], wallet.name)] : [])]));\n      }\n    });\n    if (walletEl) {\n      walletEl.addEventListener('click', () => completeHandler());\n      walletEl.addEventListener('keydown', completeHandler);\n    }\n  };\n  const listContainer = document.createElement('span');\n  container.appendChild(listContainer);\n  const showWalletLists = walletLists => {\n    removeAllChildren(listContainer);\n    walletLists.forEach(list => {\n      const listWrapperEl = document.createElement('div');\n      listWrapperEl.classList.add('beacon-list__wrapper');\n      listContainer.appendChild(listWrapperEl);\n      listWrapperEl.appendChild(createSanitizedElement('div', ['beacon-list__title'], [], list.title));\n      const listEl = document.createElement('span');\n      listWrapperEl.appendChild(listEl);\n      list.wallets.forEach(wallet => __awaiter(void 0, void 0, void 0, function* () {\n        showWallet(listEl, list.type, wallet);\n      }));\n    });\n  };\n  showWalletLists(info.walletLists);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const messageFn = event => __awaiter(void 0, void 0, void 0, function* () {\n    if (event.data === 'extensionsUpdated') {\n      const newInfo = yield getInfo();\n      showWalletLists(newInfo.walletLists);\n    }\n  });\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let closeFn;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  closeFn = event => {\n    if (event.data === `closeAlert-${id}`) {\n      windowRef.removeEventListener('message', messageFn);\n      windowRef.removeEventListener('message', closeFn);\n    }\n  };\n  windowRef.addEventListener('message', messageFn);\n  windowRef.addEventListener('message', closeFn);\n  const qr = shadowRoot.getElementById(`beacon--qr__container`);\n  const copyButton = shadowRoot.getElementById(`beacon--qr__copy`);\n  const titleEl = shadowRoot.getElementById(`beacon-title`);\n  const platform = isAndroid(window) ? 'android' : isIOS(window) ? 'ios' : 'desktop';\n  const mainText = shadowRoot.getElementById(`beacon-main-text`);\n  const walletList = shadowRoot.getElementById(`pairing-container`);\n  const switchButton = shadowRoot.getElementById(`beacon--switch__container`);\n  // if (mainText && walletList && switchButton && copyButton && qr && titleEl) {\n  const clipboardFn = () => __awaiter(void 0, void 0, void 0, function* () {\n    const code = pairingPayload ? yield serializer.serialize(yield pairingPayload.p2pSyncCode()) : '';\n    navigator.clipboard.writeText(code).then(() => {\n      if (copyButton) {\n        copyButton.innerText = 'Copied';\n      }\n      logger.log('Copying to clipboard was successful!');\n    }, err => {\n      logger.error('Could not copy text to clipboard: ', err);\n    });\n  });\n  let qrShown = false;\n  const showPlatform = type => __awaiter(void 0, void 0, void 0, function* () {\n    const platformSwitch = shadowRoot.getElementById(`beacon-switch`);\n    if (platformSwitch) {\n      platformSwitch.innerText = type === 'none' ? 'Pair wallet on same device' : 'Pair wallet on another device';\n    }\n    if (mainText && walletList && switchButton && copyButton && qr && titleEl) {\n      mainText.style.display = 'none';\n      titleEl.style.textAlign = 'center';\n      walletList.style.display = 'none';\n      switchButton.style.display = 'initial';\n      switch (type) {\n        case 'ios':\n          walletList.style.display = 'initial';\n          break;\n        case 'android':\n          walletList.style.display = 'initial';\n          break;\n        case 'desktop':\n          walletList.style.display = 'initial';\n          titleEl.style.textAlign = 'left';\n          mainText.style.display = 'none';\n          switchButton.style.display = 'initial';\n          break;\n        default:\n          if (!qrShown) {\n            // If we have previously triggered the load, do not load it again (this can lead to multiple QRs being added if \"pairingPayload.p2pSyncCode()\" is slow)\n            qrShown = true;\n            const code = yield serializer.serialize(yield pairingPayload.p2pSyncCode());\n            const uri = getTzip10Link('tezos://', code);\n            const qrSVG = getQrData(uri, 'svg');\n            const qrString = qrSVG.replace('<svg', `<svg class=\"beacon-alert__image\"`);\n            qr.insertAdjacentHTML('afterbegin', qrString);\n            if (copyButton) {\n              copyButton.addEventListener('click', clipboardFn);\n            }\n            if (qr) {\n              qr.addEventListener('click', clipboardFn);\n            }\n          }\n          // QR code\n          mainText.style.display = 'initial';\n      }\n    }\n  });\n  let showQr = false;\n  const switchPlatform = () => {\n    showPlatform(showQr ? 'none' : platform);\n    showQr = !showQr;\n  };\n  switchPlatform();\n  {\n    const platformSwitch = shadowRoot.getElementById(`beacon-switch`);\n    if (platformSwitch) {\n      platformSwitch.addEventListener('click', switchPlatform);\n    }\n  }\n});","map":{"version":3,"names":["Serializer","Logger","windowRef","generateGUID","isAndroid","isIOS","getQrData","getTzip10Link","closeAlerts","Pairing","WalletType","createSanitizedElement","createSVGElement","createSVGPathElement","removeAllChildren","logger","serializer","preparePairingAlert","id","shadowRoot","pairingPayload","__awaiter","getInfo","getPairingInfo","_walletType","_wallet","keepOpen","switchPlatform","info","container","getElementById","Error","buttonListWrapper","document","createElement","appendChild","buttons","forEach","button","randomId","titleEl","title","buttonEl","text","linkEl","shadowButtonEl","addEventListener","clickHandler","showWallet","listEl","type","wallet","altTag","name","walletKey","key","logoEl","logo","nameEl","enabled","undefined","el","walletEl","completeHandler","event","modalEl","EXTENSION","IOS","listContainer","showWalletLists","walletLists","list","listWrapperEl","classList","add","wallets","messageFn","data","newInfo","closeFn","removeEventListener","qr","copyButton","platform","window","mainText","walletList","switchButton","clipboardFn","code","serialize","p2pSyncCode","navigator","clipboard","writeText","then","innerText","log","err","error","qrShown","showPlatform","platformSwitch","style","display","textAlign","uri","qrSVG","qrString","replace","insertAdjacentHTML","showQr"],"sources":["../../../../src/ui/alert/PairingAlert.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module"}