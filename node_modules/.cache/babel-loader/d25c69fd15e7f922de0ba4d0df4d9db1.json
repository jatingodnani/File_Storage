{"ast":null,"code":"const cbs = [_ => undefined];\n/**\n * A mock for postmessage if run in node.js environment\n */\nlet windowRef = {\n  postMessage: (message, _target) => {\n    console.log('GOT MOCK POST MESSAGE', message);\n    cbs.forEach(callbackElement => {\n      callbackElement({\n        data: message\n      });\n    });\n  },\n  addEventListener: (_name, eventCallback) => {\n    cbs.push(eventCallback);\n  },\n  removeEventListener: (_name, eventCallback) => {\n    cbs.splice(cbs.indexOf(element => element === eventCallback), 1);\n  },\n  location: {\n    origin: '*'\n  }\n};\ntry {\n  if (typeof window !== 'undefined') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    windowRef = window;\n  }\n} catch (windowError) {\n  console.log(`not defined: ${windowError}`);\n}\nconst clearMockWindowState = () => {\n  cbs.length = 0;\n};\nexport { windowRef, clearMockWindowState };","map":{"version":3,"names":["cbs","_","undefined","windowRef","postMessage","message","_target","console","log","forEach","callbackElement","data","addEventListener","_name","eventCallback","push","removeEventListener","splice","indexOf","element","location","origin","window","windowError","clearMockWindowState","length"],"sources":["../../src/MockWindow.ts"],"sourcesContent":[null],"mappings":"AAEA,MAAMA,GAAG,GAAe,CAAEC,CAAU,IAAWC,SAAS,CAAC;AAEzD;;;AAGA,IAAIC,SAAS,GAAG;EACdC,WAAW,EAAEA,CAACC,OAAyC,EAAEC,OAAgB,KAAU;IACjFC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEH,OAAO,CAAC;IAC7CL,GAAG,CAACS,OAAO,CAAEC,eAAyB,IAAI;MACxCA,eAAe,CAAC;QAAEC,IAAI,EAAEN;MAAO,CAAE,CAAC;IACpC,CAAC,CAAC;EACJ,CAAC;EACDO,gBAAgB,EAAEA,CAACC,KAAa,EAAEC,aAAuB,KAAU;IACjEd,GAAG,CAACe,IAAI,CAACD,aAAa,CAAC;EACzB,CAAC;EACDE,mBAAmB,EAAEA,CAACH,KAAa,EAAEC,aAAuB,KAAU;IACpEd,GAAG,CAACiB,MAAM,CACRjB,GAAG,CAACkB,OAAO,CAAEC,OAAO,IAAKA,OAAO,KAAKL,aAAa,CAAC,EACnD,CAAC,CACF;EACH,CAAC;EACDM,QAAQ,EAAE;IACRC,MAAM,EAAE;;CAEX;AAED,IAAI;EACF,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;IACjC;IACAnB,SAAS,GAAGmB,MAAa;;CAE5B,CAAC,OAAOC,WAAW,EAAE;EACpBhB,OAAO,CAACC,GAAG,CAAC,gBAAgBe,WAAW,EAAE,CAAC;;AAG5C,MAAMC,oBAAoB,GAAeA,CAAA,KAAW;EAClDxB,GAAG,CAACyB,MAAM,GAAG,CAAC;AAChB,CAAC;AAED,SAAStB,SAAS,EAAEqB,oBAAoB"},"metadata":{},"sourceType":"module"}